<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Samwaad Meet Listener</title>
    <style>
      body{font-family:Inter,Arial,Helvetica,sans-serif;margin:12px;color:#0b0b12}
      h2{color:#382b9a}
      button{background:#6a5bf6;color:#fff;border:none;padding:8px 10px;border-radius:8px;cursor:pointer}
      p{font-size:13px;color:#40404a}
    </style>
  </head>
  <body>
    <h2>Samwaad Meet Listener</h2>
    <p>This extension injects a control into Google Meet pages. Open a Meet tab then click <strong>Start Monitoring</strong> from the panel in the Meet page (you must allow "Share audio" when prompted).</p>
    <p><strong>Note:</strong> The extension streams audio to the local backend at <code>http://localhost:8000</code>. Ensure backend server is running.</p>
    <p><button id="open-meet">Open current Meet tab</button></p>
    <script>
      document.getElementById('open-meet').addEventListener('click', async () => {
        const [tab] = await chrome.tabs.query({ active: true, currentWindow: true });
        if (tab && tab.url && tab.url.includes('meet.google.com')) {
          chrome.tabs.update(tab.id, { active: true });
        } else {
          alert('Please open Google Meet in a tab and then use the panel injected into the Meet tab to start monitoring.');
        }
      });
    </script>
  </body>
</html>
